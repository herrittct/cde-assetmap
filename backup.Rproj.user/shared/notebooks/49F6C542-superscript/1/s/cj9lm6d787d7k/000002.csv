"0","# SFSP"
"0",""
"0","sfsp_path <- ""./data/sfsp/"" # place the file storage here"
"0","(sfsp_file <- list.files(sfsp_path))"
"1","[1]"
"1"," ""SFSP_2017_2018_Comparison.xlsx"""
"1","
"
"0","sfsp_file_path <- paste0(sfsp_path,sfsp_file)"
"0",""
"0","# Names and types for each column in the excel file"
"0","column_names_sfsp <- c(""text"" = ""sfa_num"","
"0","                                ""text"" = ""sfa_name"","
"0","                                ""text"" = ""site_num"","
"0","                                ""text"" =""site_name"","
"0","                                ""numeric"" = ""meal_2017_sfsp"","
"0","                                ""numeric"" = ""meal_2018_sfsp"","
"0","                                ""numeric"" = ""change_meal_count_sfsp"","
"0","                                ""numeric"" = ""change_meal_percent_sfsp"","
"0","                                ""numeric"" = ""adp_2017_sfsp"","
"0","                                ""numeric"" = ""adp_2018_sfsp"","
"0","                                ""numeric"" = ""change_adp_count_sfsp"","
"0","                                ""numeric"" = ""change_adp_percent_sfsp"")"
"0",""
"0","# Imports raw excel using above column names and types skipping the header line"
"0","raw_sfsp <- read_excel(sfsp_file_path, "
"0","           col_names = column_names_sfsp,"
"0","           col_types = names(column_names_sfsp),"
"0","           skip = 1)  "
"0",""
"0","# Creates padded sfa_num & site_num to compare with other data sources"
"0","imported_sfsp <- mutate(raw_sfsp,"
"0","                        sfa_num_char = Pad_to_character(sfa_num),"
"0","                        site_num_char = Pad_to_character(site_num)) %>% "
"0","  select(sfa_num_char, site_num_char, everything())"
"0",""
"0",""
"0",""
"0","sfsp_1718 <- group_by(imported_sfsp, "
"0","                      sfa_num_char) %>% "
"0","  summarize(site_count_sfsp = n(),"
"0","            meal_count_sfsp_2017 = sum(meal_2017_sfsp),"
"0","            meal_count_sfsp_2018 = sum(meal_2018_sfsp),"
"0","            adp_sfsp_2017 = sum(adp_2017_sfsp),"
"0","            adp_sfsp_2018 = sum(adp_2018_sfsp))"
"0",""
"0",""
"0","combined_sfsp_geodist <- left_join(combined_geo_dist,sfsp_1718, "
"0","                                   by = c(""CDE_AGREEMENT"" = ""sfa_num_char""))            "
"0",""
"0",""
"0","# Removes all the temporary variables that we wont be using"
"0","rm(""raw_sfsp"", ""column_names_sfsp"", ""sfsp_file"", ""sfsp_file_path"", ""sfsp_path"", ""sfsp_1718"")"
